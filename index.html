<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8" />
<title>Fish Feed</title>
<style>
  :root { --water:#0b2240; --fish:#ffd700; --food:#ffa559; }
  body { margin:0; background:radial-gradient(circle at 30% 20%, #113, #021225); overflow:hidden; }
  #tank { position:relative; width:100vw; height:100vh; }
  .fish {
    position:absolute; 
    width:70px; 
    height:35px; 
    background:linear-gradient(90deg, 
      #ffd700 0%, 
      #ffed4e 40%, 
      #ffc107 70%,
      #ffb347 100%
    );
    border-radius:35px 20px 15px 35px;
    top:50%; 
    left:20%;
    box-shadow:
      0 0 25px rgba(255, 215, 0, 0.5),
      inset -8px 0 15px rgba(255, 180, 70, 0.3),
      inset 5px 3px 8px rgba(255, 255, 255, 0.3);
    transition:transform .4s ease, top 1s ease, left 1s ease;
  }
  
  /* å­”é›€é±¼çš„åä¸½å¤§å°¾å·´ */
  .fish:after { 
    content:""; 
    position:absolute; 
    right:-85px; 
    top:-35px; 
    width:100px; 
    height:105px;
    background:
      radial-gradient(ellipse at 15% 50%, 
        rgba(255, 215, 0, 0.9) 0%,
        rgba(255, 180, 70, 0.85) 25%,
        rgba(255, 140, 50, 0.8) 50%,
        rgba(255, 100, 30, 0.7) 75%,
        rgba(255, 70, 20, 0.6) 100%
      );
    border-radius:50% 70% 60% 50%;
    clip-path:polygon(0 50%, 15% 5%, 50% 0%, 85% 5%, 100% 20%, 100% 80%, 85% 95%, 50% 100%, 15% 95%);
    box-shadow:
      0 0 20px rgba(255, 140, 50, 0.6),
      inset -10px 0 20px rgba(255, 70, 20, 0.4),
      inset 0 -10px 15px rgba(255, 100, 30, 0.3);
    opacity:0.95;
  }
  
  /* èƒŒé³ */
  .fish .dorsal-fin {
    position:absolute;
    top:-12px;
    left:20px;
    width:25px;
    height:18px;
    background:linear-gradient(135deg, 
      rgba(255, 215, 0, 0.8) 0%,
      rgba(255, 180, 70, 0.7) 50%,
      rgba(255, 140, 50, 0.6) 100%
    );
    border-radius:50% 50% 0 0;
    clip-path:polygon(10% 100%, 0% 20%, 50% 0%, 100% 20%, 90% 100%);
    box-shadow:0 0 8px rgba(255, 180, 70, 0.5);
  }
  
  /* è…¹é³ */
  .fish .ventral-fin {
    position:absolute;
    bottom:-8px;
    left:25px;
    width:15px;
    height:12px;
    background:linear-gradient(180deg, 
      rgba(255, 215, 0, 0.7) 0%,
      rgba(255, 180, 70, 0.6) 100%
    );
    border-radius:0 0 50% 50%;
    box-shadow:0 0 5px rgba(255, 180, 70, 0.4);
  }
  
  .eye { 
    position:absolute; 
    right:18px; 
    top:13px; 
    width:7px; 
    height:7px; 
    background:radial-gradient(circle at 30% 30%, #fff 0%, #000 20%, #000 100%);
    border-radius:50%; 
    box-shadow:
      0 0 0 2px rgba(255,255,255,.95),
      0 0 8px rgba(255,215,0,0.6),
      inset -1px -1px 2px rgba(0,0,0,0.3);
  }
  
  /* èº«ä½“æ–‘ç‚¹çº¹ç† */
  .fish:before {
    content:"";
    position:absolute;
    top:8px;
    left:15px;
    width:100%;
    height:100%;
    background:
      radial-gradient(circle at 25% 40%, rgba(255,140,50,0.3) 0%, transparent 25%),
      radial-gradient(circle at 45% 60%, rgba(255,100,30,0.25) 0%, transparent 20%),
      radial-gradient(circle at 35% 25%, rgba(255,180,70,0.4) 0%, transparent 15%);
    border-radius:35px 20px 15px 35px;
    pointer-events:none;
  }
  .bubble {
    position:absolute; width:10px; height:10px; border:2px solid #9ddfff; border-radius:50%;
    opacity:0; animation:bubble 4s linear infinite;
  }
  @keyframes bubble { 0%{transform:translateY(0) scale(.8); opacity:.3;} 100%{transform:translateY(-200px) scale(1.2); opacity:0;} }
  .food { position:absolute; width:12px; height:12px; border-radius:50%; background:var(--food);
    box-shadow:0 2px 6px rgba(0,0,0,.4); animation:fall 3s ease forwards; }
  @keyframes fall { from{transform:translateY(-20px);} to{transform:translateY(400px);} }
  #hint { position:absolute; left:50%; top:20px; transform:translateX(-50%); color:#fff; font-family:sans-serif; opacity:.8; }
  
  .fish.eating {
    animation: eating 0.4s ease;
  }
  
  @keyframes eating {
    0%, 100% { transform: scaleY(1); }
    50% { transform: scaleY(0.8); }
  }
  
  .food.eaten {
    animation: foodEaten 0.3s ease forwards;
  }
  
  @keyframes foodEaten {
    0% {
      transform: scale(1);
      opacity: 1;
    }
    100% {
      transform: scale(0.2);
      opacity: 0;
    }
  }
  
  /* å¯¹è¯æ¡†æ ·å¼ */
  .toast {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: rgba(2, 18, 37, 0.98);
    padding: 40px 60px;
    border-radius: 15px;
    border: 3px solid #00d4ff;
    color: #fff;
    z-index: 1000;
    box-shadow: 0 0 50px rgba(0, 212, 255, 0.6);
    font-size: 24px;
    font-weight: bold;
    text-align: center;
    animation: toastIn 0.4s ease;
  }
  
  @keyframes toastIn {
    0% {
      transform: translate(-50%, -50%) scale(0.5);
      opacity: 0;
    }
    100% {
      transform: translate(-50%, -50%) scale(1);
      opacity: 1;
    }
  }
  
  @keyframes toastOut {
    0% {
      transform: translate(-50%, -50%) scale(1);
      opacity: 1;
    }
    100% {
      transform: translate(-50%, -50%) scale(0.5);
      opacity: 0;
    }
  }
  
  .toast.hide {
    animation: toastOut 0.4s ease forwards;
  }
  
  /* emojié±¼æ ·å¼ */
  .emoji-fish {
    position: absolute;
    font-size: 50px;
    transition: transform 0.4s ease, top 1s ease, left 1s ease;
    z-index: 10;
  }
  
  .emoji-fish.eating {
    animation: eating 0.4s ease;
  }
</style>
</head>
<body>
<div id="tank">
  <div id="hint">ğŸŸï¼šæƒ³åƒé¥­å™œï½</div>
  <div class="fish" id="fish">
    <div class="eye"></div>
    <div class="dorsal-fin"></div>
    <div class="ventral-fin"></div>
  </div>
  <div class="emoji-fish" id="fish2">ğŸ </div>
</div>
<script>
const tank = document.getElementById('tank');
const fish = document.getElementById('fish');
const fish2 = document.getElementById('fish2');

// å¯¹è¯æ¡†æ¶ˆæ¯
const messages = [
  'yukaçš„å°é±¼ä»Šå¤©å¾ˆæ£’ï½',
  'å°é±¼åƒé¥­é¥­ï½Yukaä¹Ÿè¦åƒé¥­é¥­å“¦ï½',
  'åƒé¥±å•¦ï½Yukaä¹Ÿè¦åƒé¥±é¥±å“¦ï½',
  'Yukaå¯¹æˆ‘çœŸå¥½ï½è°¢è°¢ä½ ï½',
    'æˆ‘æœ€å–œæ¬¢Yukaäº†ï½',
    'Yukaæ˜¯ä¸–ç•Œä¸Šæœ€æ£’çš„äººï¼',
    'Yukaï¼Œä½ çœŸå¯çˆ±ï½',
    'Yukaï¼Œçˆ±ä½ å“¦ï½',
    'Yukaï¼Œä»Šå¤©ä¹Ÿè¦å¼€å¿ƒå“¦ï½',
    'Yukaï¼Œä½ æ˜¯æˆ‘çš„å°å¤ªé˜³ï½',
    'Yukaï¼Œè°¢è°¢ä½ é™ªæˆ‘ç©ï½',
    'Yuka, æˆ‘ä¹Ÿæƒ³ä½ ï½',
    'Yukaï¼Œä½ æ˜¯æœ€æ£’å˜Ÿï¼'
];

// ç¬¬ä¸€æ¡é±¼çš„ä½ç½®
let fishX = window.innerWidth * 0.2;
let fishY = window.innerHeight * 0.5;
let targetX = fishX;
let targetY = fishY;
let facing = 1;

// ç¬¬äºŒæ¡é±¼çš„ä½ç½®
let fish2X = window.innerWidth * 0.6;
let fish2Y = window.innerHeight * 0.3;
let target2X = fish2X;
let target2Y = fish2Y;
let facing2 = 1;

function spawnBubble() {
  const b = document.createElement('div');
  b.className = 'bubble';
  b.style.left = Math.random()*window.innerWidth + 'px';
  b.style.top  = (window.innerHeight-40) + 'px';
  tank.appendChild(b);
  setTimeout(()=>b.remove(), 4000);
}
setInterval(spawnBubble, 800);

// æ›´æ–°é±¼çš„ä½ç½®
function updateFish() {
  // ç¬¬ä¸€æ¡é±¼
  fishX += (targetX - fishX) * 0.05;
  fishY += (targetY - fishY) * 0.05;
  
  fish.style.left = fishX + 'px';
  fish.style.top = fishY + 'px';
  fish.style.transform = `scaleX(${facing})`;
  
  // ç¬¬äºŒæ¡é±¼
  fish2X += (target2X - fish2X) * 0.04;
  fish2Y += (target2Y - fish2Y) * 0.04;
  
  fish2.style.left = fish2X + 'px';
  fish2.style.top = fish2Y + 'px';
  fish2.style.transform = `scaleX(${facing2})`;
  
  requestAnimationFrame(updateFish);
}

// éšæœºç§»åŠ¨ç¬¬ä¸€æ¡é±¼
function randomMove() {
  targetX = Math.random() * (window.innerWidth - 150);
  targetY = Math.random() * (window.innerHeight - 100);
  facing = targetX > fishX ? 1 : -1;
}

// éšæœºç§»åŠ¨ç¬¬äºŒæ¡é±¼
function randomMove2() {
  target2X = Math.random() * (window.innerWidth - 100);
  target2Y = Math.random() * (window.innerHeight - 80);
  facing2 = target2X > fish2X ? 1 : -1;
}

// æ¯3-5ç§’éšæœºç§»åŠ¨ä¸€æ¬¡
setInterval(randomMove, Math.random() * 2000 + 3000);
setInterval(randomMove2, Math.random() * 2000 + 2500);

// å¯åŠ¨åŠ¨ç”»å¾ªç¯
updateFish();

// ç¢°æ’æ£€æµ‹
function checkCollision(fish, food) {
  const fishRect = fish.getBoundingClientRect();
  const foodRect = food.getBoundingClientRect();
  
  const dx = (fishRect.left + fishRect.width / 2) - (foodRect.left + foodRect.width / 2);
  const dy = (fishRect.top + fishRect.height / 2) - (foodRect.top + foodRect.height / 2);
  const distance = Math.sqrt(dx * dx + dy * dy);
  
  return distance < 50;
}

// æ˜¾ç¤ºå¯¹è¯æ¡† - éšæœºé€‰æ‹©æ¶ˆæ¯
function showToast() {
  const randomIndex = Math.floor(Math.random() * messages.length);
  const message = messages[randomIndex];
  
  const toast = document.createElement('div');
  toast.className = 'toast';
  toast.textContent = message;
  document.body.appendChild(toast);
  
  setTimeout(() => {
    toast.classList.add('hide');
    setTimeout(() => toast.remove(), 400);
  }, 1500);
}

tank.addEventListener('click', e => {
  const food = document.createElement('div');
  food.className = 'food';
  food.style.left = (e.clientX-6)+'px';
  food.style.top  = (e.clientY-6)+'px';
  tank.appendChild(food);

  // è®¡ç®—å“ªæ¡é±¼ç¦»é£Ÿç‰©æ›´è¿‘
  const dist1 = Math.sqrt(Math.pow(fishX - e.clientX, 2) + Math.pow(fishY - e.clientY, 2));
  const dist2 = Math.sqrt(Math.pow(fish2X - e.clientX, 2) + Math.pow(fish2Y - e.clientY, 2));
  
  // è®©æ›´è¿‘çš„é±¼æ¸¸å‘é£Ÿç‰©
  if (dist1 < dist2) {
    targetX = e.clientX - 40;
    targetY = e.clientY - 20;
    facing = targetX > fishX ? 1 : -1;
  } else {
    target2X = e.clientX - 25;
    target2Y = e.clientY - 25;
    facing2 = target2X > fish2X ? 1 : -1;
  }
  
  const startTime = Date.now();
  let eaten = false;
  
  // ç¢°æ’æ£€æµ‹å¾ªç¯ - æ£€æµ‹ä¸¤æ¡é±¼
  const collisionCheck = setInterval(() => {
    if (!food.parentElement || eaten) {
      clearInterval(collisionCheck);
      return;
    }
    
    // æ£€æŸ¥ç¬¬ä¸€æ¡é±¼
    if (!eaten && checkCollision(fish, food)) {
      eaten = true;
      clearInterval(collisionCheck);
      
      food.classList.add('eaten');
      fish.classList.add('eating');
      
      showToast();
      
      setTimeout(() => {
        food.remove();
        fish.classList.remove('eating');
      }, 300);
    }
    
    // æ£€æŸ¥ç¬¬äºŒæ¡é±¼
    if (!eaten && checkCollision(fish2, food)) {
      eaten = true;
      clearInterval(collisionCheck);
      
      food.classList.add('eaten');
      fish2.classList.add('eating');
      
      showToast();
      
      setTimeout(() => {
        food.remove();
        fish2.classList.remove('eating');
      }, 300);
    }
    
    // 3ç§’åè‡ªåŠ¨ç§»é™¤æœªè¢«åƒæ‰çš„é£Ÿç‰©
    if (Date.now() - startTime > 3000) {
      clearInterval(collisionCheck);
      if (food.parentElement) food.remove();
    }
  }, 50);
});
</script>
</body>
</html>